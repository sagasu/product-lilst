(window["webpackJsonppractical-test"]=window["webpackJsonppractical-test"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(13)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),l=n.n(c),u=n(3);n(11),n(12);function o(e){var t=e.setFilter;return r.a.createElement("div",{className:"search-container"},r.a.createElement("label",{className:"search-label",htmlFor:"search-input"},"Search Products"),r.a.createElement("input",{type:"text",id:"search-input",onChange:function(e){return t(e.target.value)}}))}function i(e){return new Intl.NumberFormat("en",{minimumFractionDigits:2}).format(e)}function s(e){var t=e.products;return r.a.createElement(r.a.Fragment,null,t.map((function(e){var t=e.name,n=e.sold,a=e.unitPrice;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,i(n*a)))})))}function m(e){var t=function(e,t){return t&&t.length>0?e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):e}(e.products,e.filter),n=t.reduce((function(e,t){return e+t.sold*t.unitPrice}),0);return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Revenue"))),r.a.createElement("tbody",null,r.a.createElement(s,{products:t})),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Total"),r.a.createElement("td",null,i(n)))))}var d=n(2),f=n(1),E=function(e){return e.map((function(e){return e.products})).flat()},p=function(e,t){var n=e[t.id],a=t.sold;return n&&(a=t.sold+n.sold),Object(f.a)(Object(f.a)({},e),{},Object(d.a)({},t.id,Object(f.a)(Object(f.a)({},t),{},{sold:a})))};function b(){return Promise.all([1,2,3].map((function(e){return fetch("/api/branch".concat(e,".json")).then((function(e){return e.json()}))}))).then(E).then((function(e){return Object.values(e.reduce(p,{}))}))}var h=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),i=Object(u.a)(l,2),s=i[0],d=i[1],f=Object(a.useState)(!1),E=Object(u.a)(f,2),p=E[0],h=E[1];return Object(a.useEffect)((function(){b().then((function(e){return e.sort((function(e,t){return e.name.localeCompare(t.name)}))})).then((function(e){c(e),h(!0)}))}),[]),p?r.a.createElement("div",{className:"product-list"},r.a.createElement(o,{setFilter:d}),r.a.createElement(m,{products:n,filter:s})):r.a.createElement("div",{className:"product-list"},"Loading...")};l.a.render(r.a.createElement(h,null),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.4c2d7c7d.chunk.js.map